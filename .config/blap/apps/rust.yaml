applications:
  rg:
    source:
      github:
        project: "BurntSushi/ripgrep"
        release:
          asset: "tarball"
    build:
      steps:
        - command: ["cargo", "build", "--release", "--locked", "--features", "pcre2"]
    deploy:
      artifacts:
        - files:
            - "target/release/rg"
          destination: "~/.local/bin/"
  bat:
    source:
      github:
        project: "sharkdp/bat"
        release:
          asset: "tarball"
    build:
      steps:
        - command: ["cargo", "build", "--release", "--locked"]
    deploy:
      artifacts:
        - files:
            - "target/release/bat"
          destination: "~/.local/bin"
  delta:
    source:
      github:
        project: "dandavison/delta"
        release:
          asset: "tarball"
    build:
      steps:
        - command: ["cargo", "build", "--locked", "--release", "--all-features"]
    deploy:
      artifacts:
        - files:
            - "target/release/delta"
          destination: "~/.local/bin"
  just:
    priority: 50
    source:
      github:
        project: "casey/just"
        release:
          asset: "tarball"
    build:
      steps:
        - command: ["cargo", "build", "--locked", "--release"]
        - command: ["/bin/sh", "-c", "target/release/just --completions bash > target/release/just.bash"]
    deploy:
      artifacts:
        - files:
            - "target/release/just"
          destination: "~/.local/bin/development"
        - files:
            - "target/release/just.bash"
          destination: "~/.config/shellrc/completions/"
