#!/usr/bin/python3
"""Handles authentication for redirection."""
import http.server
import socketserver
import urllib.request

_PORT = 8910

_REMOTE = "https://start.duckduckgo.com"
_LOCAL = "http://offcenter.voidedtech.com"


class redirHandler(http.server.BaseHTTPRequestHandler):
    """Handles dynamic redirection."""

    def do_GET(self):
        """Inherit documentation."""
        url = _REMOTE
        try:
            with urllib.request.urlopen(_LOCAL):
                pass
            url = _LOCAL
        except Exception:
            pass

        self.send_response(303)
        self.send_header("Location", url)
        self.send_header("Content-Type", "text/html")
        self.end_headers()


def main():
    """Program entry."""
    with socketserver.TCPServer(("", _PORT), redirHandler) as httpd:
        httpd.serve_forever()


if __name__ == "__main__":
    main()
