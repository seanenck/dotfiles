#!/usr/bin/env bash
if [ -z "$1" ]; then
    echo "command required"
    exit 1
fi

cmd=""
case "$1" in
    "mute")
        cmd="-m"
        ;;
    "toggle")
        cmd="-t"
        ;;
    *)
        echo "unknown command: $1"
        exit 1
        ;;
esac
for f in $(pamixer --list-sources | tail -n +2 | cut -d " " -f 1); do
    pamixer --source $f -$cmd
done
